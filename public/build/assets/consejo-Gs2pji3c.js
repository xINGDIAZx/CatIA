import{_,r as c,o as p,w as v,v as g,c as f,a as h,b as o,t as j,g as i}from"./app-CjCjMWra.js";import{_ as b,c as w}from"./catiaService-sekrHTdN.js";const S={class:"container-fluid",id:"id-consejo"},y={class:"container"},C={class:"row d-flex justify-content-center"},D={class:"col-md-6 col-12 d-flex justify-content-center align-items-end position-relative"},I={class:"w-75"},k={class:"speech-bubble m-2"},x={class:"speech-bubble-text"},A={class:"parrafos fs-6"},B={__name:"consejo",setup(E){const s=c(""),n=c(null),r=()=>{const e=localStorage.getItem("lastConsejoDate"),a=new Date().toDateString();(!e||e!==a)&&(d(),localStorage.setItem("lastConsejoDate",a))},l=()=>{const e=new Date,t=e.getHours(),a=e.getMinutes();t===23&&a===59&&localStorage.removeItem("lastConsejoDate")};p(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(!e||!t){router.push("/");return}n.value=JSON.parse(t),r(),setInterval(l,6e4)});const d=async()=>{try{const e={nombre_usuario:n.value.name,ciudad:n.value.ciudad},t=await w.getConsejo(e);s.value=t,u()}catch(e){console.error("Error al obtener el consejo:",e)}},u=()=>{i.timeline().from("#id-consejo",{opacity:0,y:200,duration:1.5})},m=()=>{i.to("#id-consejo",{opacity:0,y:200,duration:1.5,onComplete:()=>{s.value=""}})};return(e,t)=>v((h(),f("div",S,[o("div",y,[o("div",C,[o("div",D,[t[1]||(t[1]=o("div",{class:"w-25"},[o("img",{src:b,alt:"CatIA",class:"img-data"})],-1)),o("div",I,[o("div",k,[o("div",x,[o("p",A,j(s.value.response),1)])])]),o("div",{class:"position-absolute top-0 end-0 btn btn-cerrar rounded-circle",onClick:m},t[0]||(t[0]=[o("i",{class:"las la-times-circle display-6"},null,-1)]))])])])],512)),[[g,s.value]])}},H=_(B,[["__scopeId","data-v-25bbd8e1"]]);export{H as default};
